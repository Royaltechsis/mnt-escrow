{
    "description": "FastAPI OpenAPI 3.1.0 specification for an escrow and wallet management system",
    "version": "0.1.0",
    "endpoints_summary": {
        "escrow": {
            "description": "Escrow transaction management endpoints for creating, managing, and disputing transactions with milestone support",
            "operations": [
                "get_all_transactions - Retrieve transaction history for a user",
                "get_transaction - Fetch specific escrow transaction by project and merchant ID",
                "create_transaction - Create new escrow transaction",
                "create_milestone - Create milestone-based transaction",
                "client_confirm_milestone - Client confirmation of milestone completion",
                "client_release_funds - Client release funds after transaction completion",
                "client_confirm - Client confirm transaction",
                "cancel_transaction - Cancel active transaction",
                "dispute_transaction - Initiate dispute on transaction"
            ]
        },
        "wallet": {
            "description": "Wallet management endpoints for funding, withdrawals, and transaction history",
            "operations": [
                "create - Create new wallet for user",
                "fund - Initialize payment to fund wallet",
                "withdraw - Withdraw funds with idempotency support",
                "balance - Get current wallet balance",
                "transaction_history - Retrieve wallet transaction history"
            ]
        },
        "bank": {
            "description": "Bank account management for withdrawal operations",
            "operations": [
                "add_withdrawal_account - Register bank account for withdrawals",
                "get_withdrawal_account - Retrieve account by ID",
                "delete_withdrawal_account - Remove withdrawal account",
                "get_withdrawal_accounts - List user's withdrawal accounts",
                "get_all_accounts - List all available banks",
                "confirm_withdrawal_account - Confirm bank account"
            ]
        },
        "paystack": {
            "description": "Paystack payment gateway webhook handler",
            "operations": [
                "webhook - Handle Paystack webhook events"
            ]
        },
        "admin": {
            "description": "Administrative endpoints for system management",
            "escrow_operations": [
                "get_all_transactions - Admin view all escrow transactions",
                "get_escrow_by_id - Retrieve specific escrow details",
                "cancel_transaction - Admin cancel transaction",
                "dispute_transaction - Admin initiate dispute",
                "get_all_disputed_transactions - List disputed transactions",
                "force_release_funds - Admin force fund release",
                "force_return_funds - Admin force fund return",
                "resolve_dispute - Admin resolve transaction dispute"
            ],
            "wallet_operations": [
                "credit_wallet - Admin credit user wallet",
                "debit_wallet - Admin debit user wallet",
                "get_transactions - Admin view wallet transactions",
                "get_wallet - Admin retrieve user wallet",
                "freeze_wallet - Admin freeze wallet",
                "unfreeze_wallet - Admin unfreeze wallet",
                "get_all_wallets - Admin list all wallets"
            ]
        }
    },
    "key_schemas": {
        "TransactionInstance": "Core escrow transaction with merchant, client, project ID and amount",
        "TransactionMilestoneInstance": "Escrow transaction with milestone breakdown",
        "Milestone": "Individual milestone with key, title, description and amount",
        "ReleaseFunds": "Fund release request with project and user IDs",
        "DisputeRequest": "Dispute initiation with project ID, parties and optional reason",
        "CurrencyCode": "Supported currencies: NGN, USD, EUR, GBP",
        "TransactionType": "DEPOSIT, WITHDRAWAL, TRANSFER, ESCROW_FUND, ESCROW_RELEASE, REFUND, CREDIT"
    }
}
{
    "openapi": "3.1.0",
    "info": {
        "title": "FastAPI",
        "version": "0.1.0"
    },
    "paths": {
        "/api/escrow/get_all_transactions": {
            "get": {
                "tags": [
                    "escrow"
                ],
                "summary": "Get Transaction History",
                "operationId": "get_transaction_history_api_escrow_get_all_transactions_get",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "User Id"
                        }
                    },
                    {
                        "name": "actor",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "Actor"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/get_transaction": {
            "get": {
                "tags": [
                    "escrow"
                ],
                "summary": "Get Transaction By Id",
                "description": "Fetch escrow transaction by project_id and return\nall finished milestones.",
                "operationId": "get_transaction_by_id_api_escrow_get_transaction_get",
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Project Id"
                        }
                    },
                    {
                        "name": "merchant_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Merchant Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/create_transaction": {
            "post": {
                "tags": [
                    "escrow"
                ],
                "summary": "Create Transaction",
                "description": "Docstring for create_transaction\n\n:param transaction_instance: Description\n:type transaction_instance: The transaction instance schema\n    merchant_id\n    client_id\n    project_id \n    amount should be greater than 0.00",
                "operationId": "create_transaction_api_escrow_create_transaction_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TransactionInstance"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/create_milestone": {
            "post": {
                "tags": [
                    "escrow"
                ],
                "summary": "Create Milestone Transaction",
                "description": "Docstring for create_milestone_transaction",
                "operationId": "create_milestone_transaction_api_escrow_create_milestone_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TransactionMilestoneInstance"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/client_confirm_milestone": {
            "post": {
                "tags": [
                    "escrow"
                ],
                "summary": "Client Confirm Milestone",
                "operationId": "client_confirm_milestone_api_escrow_client_confirm_milestone_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserConfirmMilestone"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/client_release_funds": {
            "post": {
                "tags": [
                    "escrow"
                ],
                "summary": "Client Release Funds",
                "operationId": "client_release_funds_api_escrow_client_release_funds_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ReleaseFunds"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/client_confirm": {
            "post": {
                "tags": [
                    "escrow"
                ],
                "summary": "Client Confirm Transaction",
                "operationId": "client_confirm_transaction_api_escrow_client_confirm_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserConfirmation"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/cancel_transaction": {
            "delete": {
                "tags": [
                    "escrow"
                ],
                "summary": "Cancel Transaction",
                "operationId": "cancel_transaction_api_escrow_cancel_transaction_delete",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CancelRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/escrow/dispute_transaction": {
            "post": {
                "tags": [
                    "escrow"
                ],
                "summary": "Dispute Transaction",
                "description": "Docstring for dispute_transaction\n\n:param dispute_request: For disputing an escrow transaction\n:type dispute_request: {escrow_id: str\n                        user_id: str \n                        reason: // is optional}",
                "operationId": "dispute_transaction_api_escrow_dispute_transaction_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DisputeRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/paystack/webhook": {
            "post": {
                "tags": [
                    "paystack"
                ],
                "summary": "Paystack Webhook Handler",
                "operationId": "paystack_webhook_handler_api_paystack_webhook_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/wallet/create": {
            "post": {
                "tags": [
                    "wallet"
                ],
                "summary": "Create Wallet",
                "operationId": "create_wallet_api_wallet_create_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WalletRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/wallet/fund": {
            "post": {
                "tags": [
                    "wallet"
                ],
                "summary": "Initialize Payment",
                "operationId": "initialize_payment_api_wallet_fund_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PaymentRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/wallet/withdraw": {
            "post": {
                "tags": [
                    "wallet"
                ],
                "summary": "Withdraw Funds",
                "description": "Improved withdraw endpoint behavior:\n- Idempotency by reference_code\n- Create PENDING txn and commit before calling Paystack\n- Store transfer/reference returned from initiate_transfer\n- Update txn status to PROCESSING after initiating transfer\n- Send a \"request received\" email immediately (not \"approved\")\n- All final success/failure handling is done via webhook handler",
                "operationId": "withdraw_funds_api_wallet_withdraw_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TransactionRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/wallet/balance": {
            "get": {
                "tags": [
                    "wallet"
                ],
                "summary": "Get Balance",
                "operationId": "get_balance_api_wallet_balance_get",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "User Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/wallet/transaction_history": {
            "get": {
                "tags": [
                    "wallet"
                ],
                "summary": "Transaction History",
                "operationId": "transaction_history_api_wallet_transaction_history_get",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "User Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/bank/withdrawal_account": {
            "post": {
                "tags": [
                    "bank"
                ],
                "summary": "Add Withdrawal Account",
                "operationId": "add_withdrawal_account_api_bank_withdrawal_account_post",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AddWithdrawalBank"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "bank"
                ],
                "summary": "Get Withdrawal Account By Id",
                "operationId": "get_withdrawal_account_by_id_api_bank_withdrawal_account_get",
                "parameters": [
                    {
                        "name": "withdrawal_account_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "Withdrawal Account Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "bank"
                ],
                "summary": "Delete Withdrawal Account",
                "operationId": "delete_withdrawal_account_api_bank_withdrawal_account_delete",
                "parameters": [
                    {
                        "name": "withdrawal_account_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "Withdrawal Account Id"
                        }
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/bank/get_withdrawal_account": {
            "get": {
                "tags": [
                    "bank"
                ],
                "summary": "Get Withdrawal Accounts",
                "operationId": "get_withdrawal_accounts_api_bank_get_withdrawal_account_get",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "title": "User Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/bank/get_all_accounts": {
            "get": {
                "tags": [
                    "bank"
                ],
                "summary": "Get All Banks",
                "operationId": "get_all_banks_api_bank_get_all_accounts_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/bank/confirm_withdrawal_account": {
            "post": {
                "tags": [
                    "bank"
                ],
                "summary": "Confirm Withdrawal Account",
                "operationId": "confirm_withdrawal_account_api_bank_confirm_withdrawal_account_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AddWithdrawalBank"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/get_all_transactions": {
            "get": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Get All Transactions",
                "operationId": "get_all_transactions_api_admin_escrow_get_all_transactions_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/get_escrow_by_id": {
            "get": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Get Escrow By Id",
                "operationId": "get_escrow_by_id_api_admin_escrow_get_escrow_by_id_get",
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The ID of the escrow transaction to retrieve",
                            "title": "Project Id"
                        },
                        "description": "The ID of the escrow transaction to retrieve"
                    },
                    {
                        "name": "merchant_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The ID of the merchant",
                            "title": "Merchant Id"
                        },
                        "description": "The ID of the merchant"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/EscrowResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/cancel_transaction": {
            "post": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Cancel Transaction",
                "operationId": "cancel_transaction_api_admin_escrow_cancel_transaction_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CancelRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/dispute_transaction": {
            "post": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Dispute Transaction",
                "operationId": "dispute_transaction_api_admin_escrow_dispute_transaction_post",
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Project Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DisputeRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/get_all_disputed_transactions": {
            "get": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Get All Disputed Transactions",
                "operationId": "get_all_disputed_transactions_api_admin_escrow_get_all_disputed_transactions_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/force_release_funds": {
            "post": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Force Release Funds",
                "operationId": "force_release_funds_api_admin_escrow_force_release_funds_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ReleaseFunds"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/force_return_funds": {
            "post": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Force Return Funds",
                "operationId": "force_return_funds_api_admin_escrow_force_return_funds_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ReleaseFunds"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/escrow/resolve_dispute": {
            "post": {
                "tags": [
                    "admin",
                    "escrow"
                ],
                "summary": "Resolve Dispute",
                "operationId": "resolve_dispute_api_admin_escrow_resolve_dispute_post",
                "parameters": [
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Project Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DisputeRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/credit": {
            "post": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Credit Wallet",
                "operationId": "credit_wallet_api_admin_wallet_credit_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TransactionRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/debit": {
            "post": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Debit Wallet",
                "operationId": "debit_wallet_api_admin_wallet_debit_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TransactionRequestDTO"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/get_transactions": {
            "get": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Get Wallet Transactions",
                "operationId": "get_wallet_transactions_api_admin_wallet_get_transactions_get",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The ID of the user whose wallet transactions to retrieve",
                            "title": "User Id"
                        },
                        "description": "The ID of the user whose wallet transactions to retrieve"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/get_wallet": {
            "get": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Get Wallet By User Id",
                "operationId": "get_wallet_by_user_id_api_admin_wallet_get_wallet_get",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The ID of the user whose wallet to retrieve",
                            "title": "User Id"
                        },
                        "description": "The ID of the user whose wallet to retrieve"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/freeze": {
            "post": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Freeze Wallet",
                "operationId": "freeze_wallet_api_admin_wallet_freeze_post",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The ID of the user whose wallet to freeze",
                            "title": "User Id"
                        },
                        "description": "The ID of the user whose wallet to freeze"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/unfreeze": {
            "post": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Unfreeze Wallet",
                "operationId": "unfreeze_wallet_api_admin_wallet_unfreeze_post",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "The ID of the user whose wallet to unfreeze",
                            "title": "User Id"
                        },
                        "description": "The ID of the user whose wallet to unfreeze"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/wallet/get_all_wallets": {
            "get": {
                "tags": [
                    "admin",
                    "wallet"
                ],
                "summary": "Get All Wallets",
                "operationId": "get_all_wallets_api_admin_wallet_get_all_wallets_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AddWithdrawalBank": {
                "properties": {
                    "user_id": {
                        "type": "string",
                        "title": "User Id"
                    },
                    "bank_code": {
                        "type": "string",
                        "title": "Bank Code"
                    },
                    "bank_name": {
                        "type": "string",
                        "title": "Bank Name"
                    },
                    "account_number": {
                        "type": "string",
                        "title": "Account Number"
                    },
                    "account_name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Account Name"
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "bank_code",
                    "bank_name",
                    "account_number"
                ],
                "title": "AddWithdrawalBank"
            },
            "CancelRequest": {
                "properties": {
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    }
                },
                "type": "object",
                "required": [
                    "client_id",
                    "merchant_id",
                    "project_id"
                ],
                "title": "CancelRequest"
            },
            "CurrencyCode": {
                "type": "string",
                "enum": [
                    "NGN",
                    "USD",
                    "EUR",
                    "GBP"
                ],
                "title": "CurrencyCode"
            },
            "DisputeRequest": {
                "properties": {
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "reason": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Reason"
                    }
                },
                "type": "object",
                "required": [
                    "project_id",
                    "client_id",
                    "merchant_id"
                ],
                "title": "DisputeRequest"
            },
            "EscrowResponse": {
                "properties": {
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "client_agree": {
                        "type": "boolean",
                        "title": "Client Agree"
                    },
                    "merchant_agree": {
                        "type": "boolean",
                        "title": "Merchant Agree"
                    },
                    "amount": {
                        "type": "string",
                        "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                        "title": "Amount"
                    },
                    "status": {
                        "title": "Status"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    },
                    "finalized_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Finalized At"
                    }
                },
                "type": "object",
                "required": [
                    "client_id",
                    "merchant_id",
                    "client_agree",
                    "merchant_agree",
                    "amount",
                    "status",
                    "created_at"
                ],
                "title": "EscrowResponse"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "Milestone": {
                "properties": {
                    "key": {
                        "type": "string",
                        "title": "Key"
                    },
                    "title": {
                        "type": "string",
                        "title": "Title"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "amount": {
                        "anyOf": [
                            {
                                "type": "number",
                                "exclusiveMinimum": 0.0
                            },
                            {
                                "type": "string",
                                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
                            }
                        ],
                        "title": "Amount"
                    }
                },
                "type": "object",
                "required": [
                    "key",
                    "title",
                    "amount"
                ],
                "title": "Milestone"
            },
            "PaymentMetadata": {
                "properties": {
                    "user_id": {
                        "type": "string",
                        "title": "User Id"
                    },
                    "wallet_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Wallet Id"
                    }
                },
                "type": "object",
                "required": [
                    "user_id"
                ],
                "title": "PaymentMetadata"
            },
            "PaymentRequest": {
                "properties": {
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    },
                    "amount": {
                        "type": "number",
                        "exclusiveMinimum": 0.0,
                        "title": "Amount"
                    },
                    "metadata": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PaymentMetadata"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    }
                },
                "type": "object",
                "required": [
                    "email",
                    "amount"
                ],
                "title": "PaymentRequest"
            },
            "ReleaseFunds": {
                "properties": {
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    }
                },
                "type": "object",
                "required": [
                    "project_id",
                    "client_id",
                    "merchant_id"
                ],
                "title": "ReleaseFunds"
            },
            "TransactionInstance": {
                "properties": {
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "amount": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "string",
                                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Amount"
                    }
                },
                "type": "object",
                "required": [
                    "merchant_id",
                    "client_id",
                    "project_id",
                    "amount"
                ],
                "title": "TransactionInstance"
            },
            "TransactionMilestoneInstance": {
                "properties": {
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "milestone": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/Milestone"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Milestone"
                    }
                },
                "type": "object",
                "required": [
                    "client_id",
                    "merchant_id",
                    "project_id",
                    "milestone"
                ],
                "title": "TransactionMilestoneInstance",
                "example": {
                    "client_id": "client_id",
                    "merchant_id": "merchant_id",
                    "milestone": [
                        {
                            "amount": 100.0,
                            "description": "description",
                            "key": "key1",
                            "title": "title"
                        },
                        {
                            "amount": 100.0,
                            "description": "description",
                            "key": "key2",
                            "title": "title"
                        }
                    ],
                    "project_id": "project_id"
                }
            },
            "TransactionRequestDTO": {
                "properties": {
                    "user_id": {
                        "type": "string",
                        "title": "User Id"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    },
                    "currency": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/CurrencyCode"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "amount": {
                        "type": "number",
                        "exclusiveMinimum": 100.0,
                        "title": "Amount"
                    },
                    "transaction_type": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/TransactionType"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "time": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Time"
                    },
                    "reason": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Reason"
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "email",
                    "currency",
                    "amount",
                    "transaction_type",
                    "time"
                ],
                "title": "TransactionRequestDTO"
            },
            "TransactionType": {
                "type": "string",
                "enum": [
                    "DEPOSIT",
                    "WITHDRAWAL",
                    "TRANSFER",
                    "ESCROW_FUND",
                    "ESCROW_RELEASE",
                    "REFUND",
                    "CREDIT"
                ],
                "title": "TransactionType"
            },
            "UserConfirmMilestone": {
                "properties": {
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "milestone_key": {
                        "type": "string",
                        "title": "Milestone Key"
                    },
                    "confirm_status": {
                        "type": "boolean",
                        "title": "Confirm Status",
                        "default": false
                    }
                },
                "type": "object",
                "required": [
                    "project_id",
                    "client_id",
                    "merchant_id",
                    "milestone_key"
                ],
                "title": "UserConfirmMilestone"
            },
            "UserConfirmation": {
                "properties": {
                    "project_id": {
                        "type": "string",
                        "title": "Project Id"
                    },
                    "client_id": {
                        "type": "string",
                        "title": "Client Id"
                    },
                    "merchant_id": {
                        "type": "string",
                        "title": "Merchant Id"
                    },
                    "confirm_status": {
                        "type": "boolean",
                        "title": "Confirm Status",
                        "default": false
                    },
                    "milestone_key": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Milestone Key"
                    }
                },
                "type": "object",
                "required": [
                    "project_id",
                    "client_id",
                    "merchant_id"
                ],
                "title": "UserConfirmation"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            },
            "WalletRequestDTO": {
                "properties": {
                    "user_id": {
                        "type": "string",
                        "title": "User Id"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "title": "Email"
                    },
                    "currency": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/CurrencyCode"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    }
                },
                "type": "object",
                "required": [
                    "user_id",
                    "email",
                    "currency",
                    "created_at"
                ],
                "title": "WalletRequestDTO"
            }
        }
    }
}